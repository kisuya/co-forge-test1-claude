# PRD: oh-my-stock

## Overview

관심 종목의 주가가 크게 변동했을 때, AI가 뉴스와 공시를 분석해 **왜 변동했는지** 심층 리포트를 제공하는 독립 웹 서비스.

증권사 계좌 불필요. 누구나 사용 가능.

## Target User

- 1년 이상 주식 투자 경험이 있는 한국 개인투자자 (30-50대)
- 매일 증권 앱 확인, 주가 변동 시 "왜?"가 궁금하지만 직접 찾아볼 시간 부족
- 2개 이상 증권사 계좌 보유, 특정 증권사에 종속되지 않는 도구를 원함

## Core Features

### P0: Must Have

#### F1. 관심 종목 등록/관리
- Description: 사용자가 한국 주식 종목을 검색하고 관심 목록에 추가/제거
- Acceptance criteria:
  - [ ] 종목명 또는 종목코드로 검색 시 500ms 이내 결과 반환
  - [ ] 최대 50개 종목 등록 가능
  - [ ] 등록된 종목 목록을 대시보드에서 확인 가능
  - [ ] 종목 제거 시 관련 알림도 함께 제거
  - [ ] 종목 추가 후 검색 결과 목록 자동 닫힘
  - [ ] 검색 UX 개선: 디바운스 자동검색, 결과 하이라이트, 빈 결과 안내, 최근 검색어

#### F2. 주가 급변동 감지
- Description: 등록된 종목의 주가를 주기적으로 확인하고, 유의미한 변동 발생 시 감지
- Acceptance criteria:
  - [ ] 장중 30분 간격으로 등록 종목의 주가 변동률 체크
  - [ ] 일일 변동률 ±3% 이상 시 "급변동" 이벤트 생성
  - [ ] 변동률 임계값은 사용자가 설정 가능 (기본값 3%)
  - [ ] 감지된 이벤트는 대시보드에 즉시 표시

#### F3. AI 변동 원인 분석 리포트
- Description: 급변동 감지 시 관련 뉴스/공시를 수집하고 LLM으로 변동 원인을 분석한 리포트 생성
- Acceptance criteria:
  - [ ] 급변동 감지 후 30분 이내에 리포트 생성 완료
  - [ ] 리포트 구성: 변동 요약 (1줄), 주요 원인 (1-3개), 관련 뉴스/공시 링크, 영향 분석
  - [ ] 각 원인에 확신도(높음/중간/낮음) 표시
  - [ ] 복수 원인이 있을 경우 중요도 순으로 정렬
  - [ ] 원본 뉴스/공시 링크를 출처로 제공

#### F4. 대시보드 (웹)
- Description: 등록 종목 현황과 분석 리포트를 한눈에 볼 수 있는 웹 대시보드
- Acceptance criteria:
  - [ ] 등록 종목 목록 + 현재 변동률 표시
  - [ ] 급변동 발생 종목은 시각적으로 강조 (색상 구분)
  - [ ] 종목 클릭 시 최근 리포트 목록 확인 가능
  - [ ] 리포트 클릭 시 전체 분석 내용 표시
  - [ ] 반응형 웹 (모바일 브라우저에서도 사용 가능)

#### F5. 사용자 인증
- Description: 이메일 기반 회원가입/로그인
- Acceptance criteria:
  - [ ] 이메일 + 비밀번호로 회원가입/로그인
  - [ ] JWT 기반 인증, 토큰 만료 시 자동 갱신
  - [ ] 비밀번호 해싱 (bcrypt)
  - [ ] 로그인 상태 유지 (7일)

### P1: Should Have

#### F6. 미국 주식 지원
- Description: 미국 주요 종목(S&P 500) 추가 지원
- Acceptance criteria:
  - [ ] US 종목 검색 및 등록
  - [ ] 미국 장 시간에 맞춘 변동 감지
  - [ ] 영문 뉴스 기반 분석 리포트 (한국어로 제공)

#### F7. 유사 과거 케이스 매칭
- Description: 현재 변동과 유사한 과거 사례를 찾아 비교 분석
- Acceptance criteria:
  - [ ] 동일 종목의 유사 변동 패턴 최소 3건 제시
  - [ ] 각 과거 사례의 이후 주가 추이 (1주/1개월) 표시
  - [ ] 현재 상황과 과거 사례의 유사점/차이점 분석

#### F8. 알림 설정
- Description: 급변동 발생 시 웹 푸시 알림
- Acceptance criteria:
  - [ ] 브라우저 Web Push 알림 지원
  - [ ] 알림 ON/OFF 설정 가능
  - [ ] 종목별 알림 개별 설정 가능

### P2: Nice to Have

#### F9. 장기 트렌드 분석
- Description: 종목의 최근 3-6개월 주요 이벤트 타임라인 제공

#### F10. 리포트 공유
- Description: 분석 리포트를 URL로 공유 가능

#### F11. 커뮤니티 토론
- Description: 종목별 사용자 토론 공간

## Out of Scope

- 매매 추천 / 투자 조언 (규제 리스크)
- 실시간 주가 차트 (증권사 앱 역할)
- 자동 매매 연동
- 모바일 네이티브 앱 (웹 반응형으로 대체)
- 암호화폐 / 채권 / 파생상품
- 소셜 로그인 (v1에서는 이메일만)

## Success Metrics

- **활성화율**: 가입 후 7일 내 종목 3개 이상 등록한 비율 > 60%
- **30일 리텐션**: 30일 후에도 주 1회 이상 방문 > 40%
- **핵심 액션 빈도**: 사용자당 주간 리포트 조회 수 > 5회
- **리포트 품질**: 사용자 피드백 "도움이 됐다" 비율 > 70%

## Constraints

- LLM API 비용: 리포트당 예상 $0.05-0.10 → 월 1만 리포트 기준 $500-1,000
- DART API: 일 10,000건 호출 제한 (무료)
- KRX 데이터: 실시간이 아닌 15-30분 지연 데이터 사용
- 한국 장 운영 시간: 09:00-15:30 KST
- 금융투자업 규제: "투자 조언"으로 분류되지 않도록 면책 조항 필수
